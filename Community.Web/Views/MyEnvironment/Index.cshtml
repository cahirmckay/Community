@model IList<Issue>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDv_ia4DNxgULeECifIJ6kO0SBKbBJAr1Y"
    type="text/javascript">

</script>

<body>
    <form id="form1" runat="server">
        <div class="card rounded shadow p-3">
            <div>
                <h1>My Environment</h1>
            </div>
            <div>
                <asp:TextBox ID="txt_location" TextMode="MultiLine" Width="400px" Height="70px" runat="server">
                </asp:TextBox>
            </div>

            <div id="map" style="width:100%; height:500px; border: 5px solid #5E5454;">
            </div>
        </div>
    </form>
</body>

<script>

    function initialize() {
        mapcode = new google.maps.Geocoder();
        var lnt = new google.maps.LatLng(54.67, -6.66);
        const myLatLng = { lat: -25.363, lng: 131.044 };
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 4,
            center: lnt,
        });
        @foreach (var issue in Model)
        {
            <text>
            new google.maps.Marker({
            position: { lat: @issue.Latitude, lng: @issue.Longitude },
            map,
            title: "@issue.Description",
        }); 
        </text>
    
        }
    
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    
</script>